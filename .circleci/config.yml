# This file is generated by .circleci/config.rb, do not edit it manually!
# Edit .circleci/config.rb and run ruby .circleci/config.rb

version: '2.1'
jobs:
  check_config:
    docker:
    - image: railseventstore/ruby:2.7
    steps:
    - checkout
    - run:
        name: Verify .circleci/config.yml is generated from .circleci/config.rb
        command: WAS="$(md5sum .circleci/config.yml)" && ruby .circleci/config.rb
          && test "$WAS" == "$(md5sum .circleci/config.yml)"
  mutate_aggregate_root_ruby_2_7:
    docker:
    - image: railseventstore/ruby:2.7
      environment:
        MUTANT_JOBS: 4
    steps:
    - checkout
    - run: make -C aggregate_root install mutate
  mutate_aggregate_root_ruby_2_6:
    docker:
    - image: railseventstore/ruby:2.6
      environment:
        MUTANT_JOBS: 4
    steps:
    - checkout
    - run: make -C aggregate_root install mutate
workflows:
  version: '2'
  Check configuration:
    jobs:
    - check_config
  Ruby 2.7:
    jobs:
    - mutate_aggregate_root_ruby_2_7
  Ruby 2.6:
    jobs:
    - mutate_aggregate_root_ruby_2_6
